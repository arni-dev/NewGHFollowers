<svg width="900" height="750" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <marker id="arrow-blue-cn" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#007bff" />
    </marker>
    <marker id="arrow-orange-cn" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#fd7e14" />
    </marker>
    <marker id="arrow-green-cn" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#28a745" />
    </marker>
  </defs>

  <rect x="10" y="10" width="880" height="100" fill="#f8f9fa" stroke="#dee2e6" rx="5" ry="5"/>
  <text x="30" y="40" fill="#333" font-weight="bold" font-size="16">第一层：入口层 (Entry Point)</text>

  <rect x="10" y="120" width="880" height="160" fill="#e9ecef" stroke="#dee2e6" rx="5" ry="5"/>
  <text x="30" y="150" fill="#333" font-weight="bold" font-size="16">第二层：导航协调层 (Coordinator)</text>
  <text x="30" y="170" fill="#666" font-size="12">负责页面跳转逻辑，管理 VC 的生杀大权</text>

  <rect x="10" y="300" width="880" height="260" fill="#f8f9fa" stroke="#dee2e6" rx="5" ry="5"/>
  <text x="30" y="330" fill="#333" font-weight="bold" font-size="16">第三层：MVVM 表现层 (Presentation)</text>
  <text x="30" y="350" fill="#666" font-size="12">View 显示 UI，ViewModel 处理逻辑，两者通过 Combine 绑定</text>
  
  <rect x="10" y="580" width="880" height="160" fill="#e9ecef" stroke="#dee2e6" rx="5" ry="5"/>
  <text x="30" y="610" fill="#333" font-weight="bold" font-size="16">第四层：服务与数据层 (Service & Data)</text>

  <g transform="translate(380, 50)">
    <rect width="180" height="40" fill="#fff" stroke="#343a40" rx="5" ry="5"/>
    <text x="90" y="25" text-anchor="middle" font-family="Arial" font-size="14" font-weight="bold">SceneDelegate</text>
  </g>

  <g transform="translate(380, 160)">
    <rect width="180" height="40" fill="#fff" stroke="#007bff" stroke-width="2" rx="5" ry="5"/>
    <text x="90" y="25" text-anchor="middle" font-family="Arial" font-size="14">AppCoordinator (总管)</text>
  </g>
    <g transform="translate(180, 220)">
    <rect width="200" height="40" fill="#fff" stroke="#007bff" stroke-width="2" rx="5" ry="5"/>
    <text x="100" y="25" text-anchor="middle" font-family="Arial" font-size="14">SearchCoordinator (搜索流)</text>
  </g>
    <g transform="translate(560, 220)">
    <rect width="220" height="40" fill="#fff" stroke="#007bff" stroke-width="2" rx="5" ry="5"/>
    <text x="110" y="25" text-anchor="middle" font-family="Arial" font-size="14">FollowerListCoordinator (列表流)</text>
  </g>

  <g transform="translate(80, 380)">
    <rect width="180" height="50" fill="#d1ecf1" stroke="#17a2b8" rx="5" ry="5"/>
    <text x="90" y="30" text-anchor="middle" font-family="Arial" font-size="14">SearchVC (视图)</text>
  </g>
  <g transform="translate(300, 380)">
    <rect width="180" height="50" fill="#ffeeba" stroke="#ffc107" rx="5" ry="5"/>
    <text x="90" y="30" text-anchor="middle" font-family="Arial" font-size="14">SearchVM (逻辑)</text>
  </g>

    <g transform="translate(520, 480)">
    <rect width="180" height="50" fill="#d1ecf1" stroke="#17a2b8" rx="5" ry="5"/>
    <text x="90" y="30" text-anchor="middle" font-family="Arial" font-size="14">FollowerListVC (视图)</text>
  </g>
  <g transform="translate(740, 480)">
    <rect width="180" height="50" fill="#ffeeba" stroke="#ffc107" rx="5" ry="5"/>
    <text x="90" y="30" text-anchor="middle" font-family="Arial" font-size="14">FollowerListVM (逻辑)</text>
  </g>

  <g transform="translate(400, 640)">
    <rect width="180" height="50" fill="#c3e6cb" stroke="#28a745" rx="5" ry="5"/>
    <text x="90" y="30" text-anchor="middle" font-family="Arial" font-size="14">NetworkManager</text>
  </g>
    <g transform="translate(650, 650)">
    <rect width="120" height="30" fill="#e2e3e5" stroke="#6c757d" rx="5" ry="5"/>
    <text x="60" y="20" text-anchor="middle" font-family="Arial" font-size="12">Models (数据模型)</text>
  </g>


  <path d="M470,90 L470,150" stroke="#007bff" stroke-width="2" marker-end="url(#arrow-blue-cn)"/>
  <text x="475" y="120" font-size="12" fill="#007bff">启动</text>

  <path d="M470,200 L280,210" stroke="#007bff" stroke-width="2" marker-end="url(#arrow-blue-cn)"/>
  <path d="M470,200 L660,210" stroke="#007bff" stroke-width="2" marker-end="url(#arrow-blue-cn)"/>

  <path d="M250,260 L170,370" stroke="#007bff" stroke-width="2" marker-end="url(#arrow-blue-cn)"/>
  <text x="190" y="310" font-size="11" fill="#007bff">创建</text>
  <path d="M300,260 L380,370" stroke="#007bff" stroke-width="2" marker-end="url(#arrow-blue-cn)"/>

  <path d="M260,405 L300,405" stroke="#007bff" stroke-width="2" marker-end="url(#arrow-blue-cn)"/>
  <path d="M300,415 L260,415" stroke="#fd7e14" stroke-width="2" stroke-dasharray="5,5" marker-end="url(#arrow-orange-cn)"/>
  <text x="265" y="435" font-size="11" fill="#fd7e14">Combine 信号绑定</text>

  <path d="M160,380 L230,265" stroke="#28a745" stroke-width="2" stroke-dasharray="2,4" marker-end="url(#arrow-green-cn)"/>
  <text x="140" y="300" font-size="11" fill="#28a745">请求跳转(闭包)</text>

  <path d="M380,240 L560,240" stroke="#007bff" stroke-width="2" stroke-dasharray="5,2" marker-end="url(#arrow-blue-cn)"/>
  <text x="430" y="235" font-size="11" fill="#007bff">启动列表流程</text>

  <path d="M640,260 L600,470" stroke="#007bff" stroke-width="2" marker-end="url(#arrow-blue-cn)"/>
  <path d="M700,260 L800,470" stroke="#007bff" stroke-width="2" marker-end="url(#arrow-blue-cn)"/>

    <path d="M700,505 L740,505" stroke="#007bff" stroke-width="2" marker-end="url(#arrow-blue-cn)"/>
  <path d="M740,515 L700,515" stroke="#fd7e14" stroke-width="2" stroke-dasharray="5,5" marker-end="url(#arrow-orange-cn)"/>

  <path d="M400,430 L480,630" stroke="#007bff" stroke-width="2" marker-end="url(#arrow-blue-cn)"/>
  <path d="M830,530 L550,640" stroke="#007bff" stroke-width="2" marker-end="url(#arrow-blue-cn)"/>
  <text x="500" y="580" font-size="11" fill="#007bff">调用 API (Async/Await)</text>

  <rect x="680" y="40" width="200" height="90" fill="#fff" stroke="#ccc" rx="5" ry="5"/>
  <text x="690" y="60" font-family="Arial" font-size="12" font-weight="bold">图例说明:</text>
  
  <line x1="690" y1="75" x2="720" y2="75" stroke="#007bff" stroke-width="2" marker-end="url(#arrow-blue-cn)"/>
  <text x="730" y="80" font-family="Arial" font-size="11">直接调用 / 创建 / 持有</text>

  <line x1="690" y1="95" x2="720" y2="95" stroke="#fd7e14" stroke-width="2" stroke-dasharray="5,5" marker-end="url(#arrow-orange-cn)"/>
  <text x="730" y="100" font-family="Arial" font-size="11">Combine 数据绑定通知</text>

  <line x1="690" y1="115" x2="720" y2="115" stroke="#28a745" stroke-width="2" stroke-dasharray="2,4" marker-end="url(#arrow-green-cn)"/>
  <text x="730" y="120" font-family="Arial" font-size="11">代理 / 闭包回调 (向上汇报)</text>

</svg>